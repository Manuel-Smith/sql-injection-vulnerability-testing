const express = require('express');
const app = express();
const bodyParser = require('body-parser');
let jsonBodyParser = bodyParser.json();
const router = require('router');
const path = require('path');
const cors = require('cors')
app.use(cors());
const PORT = 3030;

const patient = require('./routers/patientrouters')
const doctor = require('./routers/doctorrouters')
const appointment = require('./routers/appointmentrouters')


app.get('/', async (req, res)=>{
    let absolutePath = path.join(__dirname, '\index.html');
    // console.log(absolutePath)
    res.sendFile(absolutePath);
})

app.use('/api/v1/patient', jsonBodyParser, patient);

app.use('/api/v1/doctor', jsonBodyParser, doctor);

app.use('/api/v1/appointment', jsonBodyParser, appointment)

app.listen(PORT, ()=>console.log(`Listening on port ${PORT}`))